---
import graduationIcon from "../images/icons/graduation-cap.svg"
import developmentIcon from "../images/icons/development.svg"
import designIcon from "../images/icons/design.svg"

import AboutMeData from "../data/about-me.json";

const experienceData = AboutMeData["experience"];
const developmentData = AboutMeData["development"];
const designData = AboutMeData["design"];

developmentData.sort((a, b) => parseFloat(b.rating_1_to_3) - parseFloat(a.rating_1_to_3));
designData.sort((a, b) => parseFloat(b.rating_1_to_3) - parseFloat(a.rating_1_to_3));

function multiplyElement(n, elem){
  return [...Array(n)].map((e, i) => elem);
}

function ratingBars(n){
    if(n === 3){
            return multiplyElement(3, <div class="h-4 w-4 bg-green border-[1px] border-light-grey rounded-sm mr-0.5" ></div>)
    }
    if(n === 2){
            let elem =  multiplyElement(2, <div class="h-4 w-4 bg-light-teal border-[1px] border-light-grey rounded-sm mr-0.5" ></div>)
            return elem;
    }
    if(n === 1){
            let elem =  multiplyElement(1, <div class="h-4 w-4 bg-orange border-[1px] border-light-grey rounded-sm mr-0.5" />)
            return elem;
    }
}

---

<div class="flex flex-col md:flex-row justify-center items-center space-x-2 h-content">
    <div class="flex flex-col space-y-4 h-full justify-center w-80">
        <div class="border-2 border-light-grey flex space-x-4 py-0.5 px-1">
            <div>
                <img src={graduationIcon} alt="Graduation cap" class="w-16 h-auto" />
                <p>MSc</p>
            </div>
            <div class="text-left flex flex-col justify-center space-y-1">
                <p>Risk Management & <br/>
                    Financial Engineering</p>
                <p>Imperial College London</p>
            </div>
        </div>
        <div class="border-2 border-light-grey flex space-x-4 py-0.5 px-1">
            <div>
                <img src={graduationIcon} alt="Graduation cap" class="w-16 h-auto" />
                <p>MChem</p>
            </div>
            <div class="text-left flex flex-col justify-center space-y-1">
                <p>Chemistry with <br/>
                    study year abroad (US)</p>
                <p>University of Leicester</p>
            </div>
        </div>
    </div>
    <p class="text-3xl">+</p>
    <div class="border-2 border-light-grey py-1 px-2 h-full flex flex-col items-center w-full lg:w-1/4">
        <p class="text-2xl pb-1">Experience</p>
        <div class="flex items-center">
            <ul class="text-left text-sm space-y-2">
                {experienceData.map((item) =>(
                        <li>{item.company}, {item.role} <br/>
                        <span class="text-xs">{item.time}</span></li>
                    ))}
            </ul>
        </div>
    </div>
    <p class="text-3xl">=</p>
    <div class="border-2 border-light-grey py-1 px-1 h-full flex flex-col items-center w-full lg:w-1/4">
        <p class="text-2xl pb-1">Develop</p>
        <div class="grid items-center grid-cols-2">
            {developmentData.map((item) =>(
                <div class="text-sm text-right pr-1">
                    {item.skill} 
                </div>
                <div class="flex">
                    {ratingBars(item.rating_1_to_3)}
                </div>
            ))}
            <!-- <ul class="text-left">
                {developmentData.map((item) =>(
                    <li class="flex items-center text-sm">{item.skill} 
                        {multiplyElement(item.rating_1_to_3, <img src={developmentIcon} alt="Development icon" class="pl-1 h-4" />)}
                        </li>
                ))}
            </ul> -->
        </div>
    </div>
    <p class="text-3xl">+</p>
    <div class="border-2 border-light-grey py-1 px-2 h-full lg:h-72 flex flex-col items-center w-full lg:w-1/4">
        <p class="text-2xl pb-1">Design</p>
        <div class="grid items-center grid-cols-2">
            {designData.map((item) =>(
                <div class="text-sm text-right pr-1">
                    {item.skill} 
                </div>
                <div class="flex">
                    {multiplyElement(item.rating_1_to_3, <p>ðŸš€</p>)}
                </div>
            ))}
        </div>
    </div>
</div>